<div class="mx-5" #layout>
  <div class="m-2">
    <add-document
      [hasCollection]="hasSingleCollection()"
      [hasRights]="hasCreateRights()"
      (createKanban)="createKanban($event)">
    </add-document>
  </div>
  <div class="board">
    <kanban-column [id]="1"></kanban-column>
    <kanban-column [id]="2"></kanban-column>
    <kanban-column [id]="3"></kanban-column>

    <kanban-document *ngFor="let kanban of kanbans; let idx = index; trackBy:trackByDocument"
                     class="layout-item card kanban {{ !kanban.initialized ? 'uninitialized' : 'initialized' }}"
                     [attr.order]="kanban.order"
                     [collection]="getCollection(kanban)"
                     [collectionRoles]="getCollectionRoles(kanban)"
                     [kanbanModel]="kanbanWithIndex(kanban, idx)"
                     [perspectiveId]="perspectiveId"
                     [layoutManager]="layoutManager"
                     [currentColumnLayoutManager]="getKanbanColumn(idx)"
                     [selectionHelper]="selectionHelper"
                     [navigationHelper]="navigationHelper"
                     (favoriteChange)="onFavoriteChange(kanban.document, $event)"
                     (remove)="removePostIt(kanban)"
                     (changes)="postItChanged(kanban, $event)"></kanban-document>


  </div>
  <label *ngIf="(!hasSingleCollection() || !hasCreateRights()) && !kanbans.length"
         class="label-centered"
         i18n="@@document.list.empty">Nothing To Show</label>
</div>

<div class="fading loading-text text-center py-5"
     [style.opacity]="infiniteScroll.isLoading() ? 1 : 0"
     i18n="@@documents.post.it.loading">
  Loading...
</div>
